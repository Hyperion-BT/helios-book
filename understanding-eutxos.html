<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Understanding eUTxOs - The Helios Smart Contract Language</title>
        <!-- Custom HTML head -->
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="src/custom.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="intro.html">Introduction</a></li><li class="chapter-item affix "><a href="understanding-eutxos.html" class="active">Understanding eUTxOs</a></li><li class="chapter-item "><a href="lang/index.html"><strong aria-hidden="true">1.</strong> Helios language</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="lang/comments.html"><strong aria-hidden="true">1.1.</strong> Comments</a></li><li class="chapter-item "><a href="lang/variables.html"><strong aria-hidden="true">1.2.</strong> Variables</a></li><li class="chapter-item "><a href="lang/primitive-types.html"><strong aria-hidden="true">1.3.</strong> Primitive types</a></li><li class="chapter-item "><a href="lang/container-types.html"><strong aria-hidden="true">1.4.</strong> Container types</a></li><li class="chapter-item "><a href="lang/branching.html"><strong aria-hidden="true">1.5.</strong> Branching</a></li><li class="chapter-item "><a href="lang/print.html"><strong aria-hidden="true">1.6.</strong> Print</a></li><li class="chapter-item "><a href="lang/functions.html"><strong aria-hidden="true">1.7.</strong> Functions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="lang/example-function.html"><strong aria-hidden="true">1.7.1.</strong> Example: Collatz sequence</a></li></ol></li><li class="chapter-item "><a href="lang/operators.html"><strong aria-hidden="true">1.8.</strong> Operators</a></li><li class="chapter-item "><a href="lang/structs.html"><strong aria-hidden="true">1.9.</strong> Structs</a></li><li class="chapter-item "><a href="lang/enums.html"><strong aria-hidden="true">1.10.</strong> Enums</a></li><li class="chapter-item "><a href="lang/methods.html"><strong aria-hidden="true">1.11.</strong> Methods</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="lang/associated-functions-and-constants.html"><strong aria-hidden="true">1.11.1.</strong> Associated functions and constants</a></li><li class="chapter-item "><a href="lang/automatic-methods.html"><strong aria-hidden="true">1.11.2.</strong> Automatic methods</a></li><li class="chapter-item "><a href="lang/example-rational.html"><strong aria-hidden="true">1.11.3.</strong> Example: Rational</a></li></ol></li><li class="chapter-item "><a href="lang/errors.html"><strong aria-hidden="true">1.12.</strong> Throwing errors</a></li><li class="chapter-item "><a href="lang/script-structure.html"><strong aria-hidden="true">1.13.</strong> Structure of a script</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="lang/example-script.html"><strong aria-hidden="true">1.13.1.</strong> Example: always_succeeds</a></li></ol></li><li class="chapter-item "><a href="lang/modules.html"><strong aria-hidden="true">1.14.</strong> Modules</a></li><li class="chapter-item "><a href="lang/builtins/index.html"><strong aria-hidden="true">1.15.</strong> Builtins</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="lang/builtins/address.html"><strong aria-hidden="true">1.15.1.</strong> Address</a></li><li class="chapter-item "><a href="lang/builtins/assetclass.html"><strong aria-hidden="true">1.15.2.</strong> AssetClass</a></li><li class="chapter-item "><a href="lang/builtins/bool.html"><strong aria-hidden="true">1.15.3.</strong> Bool</a></li><li class="chapter-item "><a href="lang/builtins/bytearray.html"><strong aria-hidden="true">1.15.4.</strong> ByteArray</a></li><li class="chapter-item "><a href="lang/builtins/credential.html"><strong aria-hidden="true">1.15.5.</strong> Credential</a></li><li class="chapter-item "><a href="lang/builtins/data.html"><strong aria-hidden="true">1.15.6.</strong> Data</a></li><li class="chapter-item "><a href="lang/builtins/datumhash.html"><strong aria-hidden="true">1.15.7.</strong> DatumHash</a></li><li class="chapter-item "><a href="lang/builtins/dcert.html"><strong aria-hidden="true">1.15.8.</strong> DCert</a></li><li class="chapter-item "><a href="lang/builtins/duration.html"><strong aria-hidden="true">1.15.9.</strong> Duration</a></li><li class="chapter-item "><a href="lang/builtins/int.html"><strong aria-hidden="true">1.15.10.</strong> Int</a></li><li class="chapter-item "><a href="lang/builtins/list.html"><strong aria-hidden="true">1.15.11.</strong> List</a></li><li class="chapter-item "><a href="lang/builtins/map.html"><strong aria-hidden="true">1.15.12.</strong> Map</a></li><li class="chapter-item "><a href="lang/builtins/mintingpolicyhash.html"><strong aria-hidden="true">1.15.13.</strong> MintingPolicyHash</a></li><li class="chapter-item "><a href="lang/builtins/option.html"><strong aria-hidden="true">1.15.14.</strong> Option</a></li><li class="chapter-item "><a href="lang/builtins/outputdatum.html"><strong aria-hidden="true">1.15.15.</strong> OutputDatum</a></li><li class="chapter-item "><a href="lang/builtins/pubkey.html"><strong aria-hidden="true">1.15.16.</strong> PubKey</a></li><li class="chapter-item "><a href="lang/builtins/pubkeyhash.html"><strong aria-hidden="true">1.15.17.</strong> PubKeyHash</a></li><li class="chapter-item "><a href="lang/builtins/scriptcontext.html"><strong aria-hidden="true">1.15.18.</strong> ScriptContext</a></li><li class="chapter-item "><a href="lang/builtins/scriptpurpose.html"><strong aria-hidden="true">1.15.19.</strong> ScriptPurpose</a></li><li class="chapter-item "><a href="lang/builtins/stakingcredential.html"><strong aria-hidden="true">1.15.20.</strong> StakingCredential</a></li><li class="chapter-item "><a href="lang/builtins/stakingpurpose.html"><strong aria-hidden="true">1.15.21.</strong> StakingPurpose</a></li><li class="chapter-item "><a href="lang/builtins/string.html"><strong aria-hidden="true">1.15.22.</strong> String</a></li><li class="chapter-item "><a href="lang/builtins/time.html"><strong aria-hidden="true">1.15.23.</strong> Time</a></li><li class="chapter-item "><a href="lang/builtins/timerange.html"><strong aria-hidden="true">1.15.24.</strong> TimeRange</a></li><li class="chapter-item "><a href="lang/builtins/tx.html"><strong aria-hidden="true">1.15.25.</strong> Tx</a></li><li class="chapter-item "><a href="lang/builtins/txid.html"><strong aria-hidden="true">1.15.26.</strong> TxId</a></li><li class="chapter-item "><a href="lang/builtins/txinput.html"><strong aria-hidden="true">1.15.27.</strong> TxInput</a></li><li class="chapter-item "><a href="lang/builtins/txoutput.html"><strong aria-hidden="true">1.15.28.</strong> TxOutput</a></li><li class="chapter-item "><a href="lang/builtins/txoutputid.html"><strong aria-hidden="true">1.15.29.</strong> TxOutputId</a></li><li class="chapter-item "><a href="lang/builtins/validatorhash.html"><strong aria-hidden="true">1.15.30.</strong> ValidatorHash</a></li><li class="chapter-item "><a href="lang/builtins/value.html"><strong aria-hidden="true">1.15.31.</strong> Value</a></li></ol></li></ol></li><li class="chapter-item "><a href="api/index.html"><strong aria-hidden="true">2.</strong> Helios API</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="api/setup.html"><strong aria-hidden="true">2.1.</strong> Setup</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="api/deno.html"><strong aria-hidden="true">2.1.1.</strong> Deno</a></li></ol></li><li class="chapter-item "><a href="api/compiling.html"><strong aria-hidden="true">2.2.</strong> Compiling Helios sources</a></li><li class="chapter-item "><a href="api/generating.html"><strong aria-hidden="true">2.3.</strong> Generating datums and redeemers</a></li><li class="chapter-item "><a href="api/building/index.html"><strong aria-hidden="true">2.4.</strong> Building transactions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="api/building/inputs.html"><strong aria-hidden="true">2.4.1.</strong> Transaction inputs</a></li><li class="chapter-item "><a href="api/building/outputs.html"><strong aria-hidden="true">2.4.2.</strong> Transaction outputs</a></li><li class="chapter-item "><a href="api/building/collateral.html"><strong aria-hidden="true">2.4.3.</strong> Collateral</a></li><li class="chapter-item "><a href="api/building/signers.html"><strong aria-hidden="true">2.4.4.</strong> Explicit signers</a></li><li class="chapter-item "><a href="api/building/minting.html"><strong aria-hidden="true">2.4.5.</strong> Minting</a></li><li class="chapter-item "><a href="api/building/finalizing.html"><strong aria-hidden="true">2.4.6.</strong> Finalizing</a></li><li class="chapter-item "><a href="api/building/signing-and-submitting.html"><strong aria-hidden="true">2.4.7.</strong> Signing and submitting</a></li></ol></li><li class="chapter-item "><a href="api/picoswap/index.html"><strong aria-hidden="true">2.5.</strong> Example: PicoSwap</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="api/picoswap/script.html"><strong aria-hidden="true">2.5.1.</strong> Main script</a></li><li class="chapter-item "><a href="api/picoswap/datums.html"><strong aria-hidden="true">2.5.2.</strong> Generating datums</a></li><li class="chapter-item "><a href="api/picoswap/contract-class.html"><strong aria-hidden="true">2.5.3.</strong> Contract helper class</a></li><li class="chapter-item "><a href="api/picoswap/new-sale.html"><strong aria-hidden="true">2.5.4.</strong> Creating a new sale</a></li><li class="chapter-item "><a href="api/picoswap/cancel-sale.html"><strong aria-hidden="true">2.5.5.</strong> Canceling a sale</a></li><li class="chapter-item "><a href="api/picoswap/buying.html"><strong aria-hidden="true">2.5.6.</strong> Buying for-sale assets</a></li></ol></li><li class="chapter-item "><a href="api/reference/index.html"><strong aria-hidden="true">2.6.</strong> API Reference</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="api/reference/constants.html"><strong aria-hidden="true">2.6.1.</strong> Constants</a></li><li class="chapter-item "><a href="api/reference/functions.html"><strong aria-hidden="true">2.6.2.</strong> Functions</a></li><li class="chapter-item "><a href="api/reference/address.html"><strong aria-hidden="true">2.6.3.</strong> Address</a></li><li class="chapter-item "><a href="api/reference/assets.html"><strong aria-hidden="true">2.6.4.</strong> Assets</a></li><li class="chapter-item "><a href="api/reference/bytearraydata.html"><strong aria-hidden="true">2.6.5.</strong> ByteArrayData</a></li><li class="chapter-item "><a href="api/reference/cbordata.html"><strong aria-hidden="true">2.6.6.</strong> CborData</a></li><li class="chapter-item "><a href="api/reference/constrdata.html"><strong aria-hidden="true">2.6.7.</strong> ConstrData</a></li><li class="chapter-item "><a href="api/reference/datum.html"><strong aria-hidden="true">2.6.8.</strong> Datum</a></li><li class="chapter-item "><a href="api/reference/datumhash.html"><strong aria-hidden="true">2.6.9.</strong> DatumHash</a></li><li class="chapter-item "><a href="api/reference/fuzzytest.html"><strong aria-hidden="true">2.6.10.</strong> FuzzyTest</a></li><li class="chapter-item "><a href="api/reference/intdata.html"><strong aria-hidden="true">2.6.11.</strong> IntData</a></li><li class="chapter-item "><a href="api/reference/listdata.html"><strong aria-hidden="true">2.6.12.</strong> ListData</a></li><li class="chapter-item "><a href="api/reference/mapdata.html"><strong aria-hidden="true">2.6.13.</strong> MapData</a></li><li class="chapter-item "><a href="api/reference/mintingpolicyhash.html"><strong aria-hidden="true">2.6.14.</strong> MintingPolicyHash</a></li><li class="chapter-item "><a href="api/reference/networkparams.html"><strong aria-hidden="true">2.6.15.</strong> NetworkParams</a></li><li class="chapter-item "><a href="api/reference/program.html"><strong aria-hidden="true">2.6.16.</strong> Program</a></li><li class="chapter-item "><a href="api/reference/pubkeyhash.html"><strong aria-hidden="true">2.6.17.</strong> PubKeyHash</a></li><li class="chapter-item "><a href="api/reference/signature.html"><strong aria-hidden="true">2.6.18.</strong> Signature</a></li><li class="chapter-item "><a href="api/reference/tx.html"><strong aria-hidden="true">2.6.19.</strong> Tx</a></li><li class="chapter-item "><a href="api/reference/txid.html"><strong aria-hidden="true">2.6.20.</strong> TxId</a></li><li class="chapter-item "><a href="api/reference/txoutput.html"><strong aria-hidden="true">2.6.21.</strong> TxOutput</a></li><li class="chapter-item "><a href="api/reference/txrefinput.html"><strong aria-hidden="true">2.6.22.</strong> TxRefInput</a></li><li class="chapter-item "><a href="api/reference/txwitnesses.html"><strong aria-hidden="true">2.6.23.</strong> TxWitnesses</a></li><li class="chapter-item "><a href="api/reference/uplcbool.html"><strong aria-hidden="true">2.6.24.</strong> UplcBool</a></li><li class="chapter-item "><a href="api/reference/uplcbytearray.html"><strong aria-hidden="true">2.6.25.</strong> UplcByteArray</a></li><li class="chapter-item "><a href="api/reference/uplcdata.html"><strong aria-hidden="true">2.6.26.</strong> UplcData</a></li><li class="chapter-item "><a href="api/reference/uplcdatavalue.html"><strong aria-hidden="true">2.6.27.</strong> UplcDataValue</a></li><li class="chapter-item "><a href="api/reference/uplcint.html"><strong aria-hidden="true">2.6.28.</strong> UplcInt</a></li><li class="chapter-item "><a href="api/reference/uplclist.html"><strong aria-hidden="true">2.6.29.</strong> UplcList</a></li><li class="chapter-item "><a href="api/reference/uplcmap.html"><strong aria-hidden="true">2.6.30.</strong> UplcMap</a></li><li class="chapter-item "><a href="api/reference/uplcpair.html"><strong aria-hidden="true">2.6.31.</strong> UplcPair</a></li><li class="chapter-item "><a href="api/reference/uplcprogram.html"><strong aria-hidden="true">2.6.32.</strong> UplcProgram</a></li><li class="chapter-item "><a href="api/reference/uplcstring.html"><strong aria-hidden="true">2.6.33.</strong> UplcString</a></li><li class="chapter-item "><a href="api/reference/uplcunit.html"><strong aria-hidden="true">2.6.34.</strong> UplcUnit</a></li><li class="chapter-item "><a href="api/reference/uplcvalue.html"><strong aria-hidden="true">2.6.35.</strong> UplcValue</a></li><li class="chapter-item "><a href="api/reference/usererror.html"><strong aria-hidden="true">2.6.36.</strong> UserError</a></li><li class="chapter-item "><a href="api/reference/utxo.html"><strong aria-hidden="true">2.6.37.</strong> UTxO</a></li><li class="chapter-item "><a href="api/reference/validatorhash.html"><strong aria-hidden="true">2.6.38.</strong> ValidatorHash</a></li><li class="chapter-item "><a href="api/reference/value.html"><strong aria-hidden="true">2.6.39.</strong> Value</a></li></ol></li></ol></li><li class="chapter-item "><a href="cli/index.html"><strong aria-hidden="true">3.</strong> Helios CLI</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="cli/setup.html"><strong aria-hidden="true">3.1.</strong> Setup</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="cli/install.html"><strong aria-hidden="true">3.1.1.</strong> Install helios-cli</a></li><li class="chapter-item "><a href="cli/cardano-node.html"><strong aria-hidden="true">3.1.2.</strong> Setup cardano-node</a></li><li class="chapter-item "><a href="cli/wallet.html"><strong aria-hidden="true">3.1.3.</strong> Wallet setup</a></li></ol></li><li class="chapter-item "><a href="cli/usage.html"><strong aria-hidden="true">3.2.</strong> Using helios-cli</a></li><li class="chapter-item "><a href="cli/example-always-succeeds.html"><strong aria-hidden="true">3.3.</strong> Example: Always succeeds</a></li><li class="chapter-item "><a href="cli/example-time-lock.html"><strong aria-hidden="true">3.4.</strong> Example: Time lock</a></li></ol></li><li class="chapter-item "><a href="advanced-concepts/index.html"><strong aria-hidden="true">4.</strong> Advanced concepts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="advanced-concepts/exploits.html"><strong aria-hidden="true">4.1.</strong> Exploits</a></li><li class="chapter-item "><a href="advanced-concepts/minting/index.html"><strong aria-hidden="true">4.2.</strong> Minting native assets</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="advanced-concepts/minting/signature.html"><strong aria-hidden="true">4.2.1.</strong> Signature based minting</a></li><li class="chapter-item "><a href="advanced-concepts/minting/unique.html"><strong aria-hidden="true">4.2.2.</strong> Unique minting</a></li></ol></li><li class="chapter-item "><a href="advanced-concepts/vesting-contract.html"><strong aria-hidden="true">4.3.</strong> Vesting contract</a></li><li class="chapter-item "><a href="advanced-concepts/english-auction.html"><strong aria-hidden="true">4.4.</strong> English auction</a></li><li class="chapter-item "><a href="advanced-concepts/oracle-pools.html"><strong aria-hidden="true">4.5.</strong> Oracle pools</a></li><li class="chapter-item "><a href="advanced-concepts/dapps.html"><strong aria-hidden="true">4.6.</strong> DApp recommendations</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Helios Smart Contract Language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/hyperion-bt/Helios-Book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="understanding-the-eutxo-model"><a class="header" href="#understanding-the-eutxo-model">Understanding the eUTxO model</a></h1>
<p>Before we get into any coding we first need to understand how smart contracts work on Cardano and how Cardano differs from the more conventional account-based model.</p>
<blockquote>
<p><strong>Note</strong>: eUTxO is an abbreviation of <em>extended Unspent Transaction Outputs</em></p>
</blockquote>
<h2 id="account-based-model-vs-eutxo-model"><a class="header" href="#account-based-model-vs-eutxo-model">Account-based model vs eUTxO model</a></h2>
<p>Smart contracts on Cardano are quite different from those on Ethereum.</p>
<h3 id="ethereum-style-smart-contracts-account-based"><a class="header" href="#ethereum-style-smart-contracts-account-based">Ethereum-style smart contracts (account-based)</a></h3>
<p>When a transaction occurs on an account-based blockchain, the balance of the sender's account is directly decremented and that of the recipient is incremented, similar to how conventional bank accounts work.</p>
<p>Contracts interact with these balances and run via the EVM (Ethereum Virtual Machine). The EVM can be thought of as a global on-chain computer on which smart contracts take turns running, before their results are added to the chain.</p>
<blockquote>
<p><strong>Note</strong>: the data of all accounts on Ethereum are stored in a <a href="https://ethereum.org/en/developers/docs/data-structures-and-encoding/patricia-merkle-trie/"><strong>Merkle-Patricia trie</strong></a>, which is like a fancy hashmap. After all the transactions in a block are run, the root hash of the block trie is added to the chain.</p>
</blockquote>
<h3 id="the-eutxo-model"><a class="header" href="#the-eutxo-model">The eUTxO model</a></h3>
<p>In the eUTxO model tokens are stored in UTxOs. A UTxO is like (electronic)-cash where each individual bundle of bills (Ada and native-tokens) is stored separately.</p>
<p>A transaction in the UTxO model takes one or more UTxOs as <strong>transaction inputs</strong>, which are destroyed, and creates one or more UTxOs as <strong>transaction outputs</strong>.</p>
<p>Transactions in an account-based model mutate the data-points storing the total balances. This is very risky (regular banks are insured against this, and also have paper backups in case of mistakes, but blockchains have no such fallbacks). In the UTxO model only the &quot;bills&quot; that participate in a given transaction can potentially be affected (which is bad, but not catastrophic).</p>
<p>Of course a UTxO chain can emulate account-based chains (by storing all tokens in a single UTxO) and account-based chains can emulate UTxO chains (by spreading a user's balance over many different accounts).</p>
<h2 id="components-of-a-utxo-on-cardano"><a class="header" href="#components-of-a-utxo-on-cardano">Components of a UTxO on Cardano</a></h2>
<p>UTxOs have 3 main components:</p>
<ul>
<li>an address</li>
<li>tokens (Ada and other native assets)</li>
<li>a datum</li>
</ul>
<h3 id="address"><a class="header" href="#address">Address</a></h3>
<p>The address of a UTxO determines the owner (i.e. who has the right to spend it).</p>
<p>A user's balance is calculated by summing all UTxOs sitting at addresses <em>owned</em> by that user.</p>
<p>An address can either be derived from the hash of a user's public key (<a href="./lang/builtins/pubkeyhash.html"><code>PubKeyHash</code></a> in Helios), or the hash of a validator script (<a href="./lang/builtins/validatorhash.html"><code>ValidatorHash</code></a> in Helios). In the latter case the script effectively becomes the owner of the UTxO.</p>
<h3 id="tokens"><a class="header" href="#tokens">Tokens</a></h3>
<p>Each UTxO contains some tokens, which represent value on the blockchain. Tokens have positive value due to scarcity (tokens can't be duplicated) and utility (eg. Ada being used to pay transaction fees).</p>
<h3 id="datum"><a class="header" href="#datum">Datum</a></h3>
<p>The <em>datum</em> is data that is attached to UTxOs. A datum represents the state of a smart contract, and is immutable (smart contract state can change though, by spending old UTxOs and creating new ones).</p>
<p>The 'e' (<em>extended</em>) in eUTxO comes from the datum. The Bitcoin UTxO model doesn't have datums, giving Bitcoin scripts very limited capabilities. <em>Extending</em> the UTxO model, as done by Cardano and Ergo, gives an eUTxO model the same capabilities as an account-based model, while benefitting from a much safer approach to transactions (because a global state isn't being accessed/mutated).</p>
<h2 id="validator-scripts"><a class="header" href="#validator-scripts">Validator scripts</a></h2>
<p>A validator script is a function that is evaluated when a transaction attempts to spend a UTxO locked at that script's address. This function takes 3 arguments:</p>
<ul>
<li>the datum attached to the UTxO</li>
<li>some data provided by the user who created the transaction (the <em>redeemer</em>)</li>
<li>details about the transaction (the <em>script context</em>)</li>
</ul>
<p>The validator script then calculates whether or not the UTxO is allowed to be spent (essentially returning a boolean result).</p>
<p>Separating the validation logic from the transaction building/submitting logic makes it much easier to audit the trusted part of eUTxO DApps.</p>
<p>Helios is all about writing these validator scripts.</p>
<blockquote>
<p><strong>Note</strong>: a UTxO can only be spent once. In every transaction all input UTxOs are destroyed, and new output UTxOs are created.</p>
</blockquote>
<blockquote>
<p><strong>Note</strong>: a valid transaction must satisfy the following conditions:</p>
<ul>
<li>the transaction must be balanced: the total amount of tokens in the transaction inputs must be equal to those in the transaction outputs (minus the fees, plus the minted tokens).</li>
<li>the validators for all the transaction inputs must evaluate to <code>true</code>.</li>
</ul>
</blockquote>
<h2 id="pros-and-cons-of-the-eutxo-model"><a class="header" href="#pros-and-cons-of-the-eutxo-model">Pros and cons of the eUTxO Model</a></h2>
<h3 id="pros"><a class="header" href="#pros">Pros</a></h3>
<ul>
<li>
<h4 id="deterministic-transaction-fees"><a class="header" href="#deterministic-transaction-fees">Deterministic transaction fees</a></h4>
<p>eUTxO smart contract evaluation is deterministic. This means that you can calculate the resource usage of a transaction before posting it to the blockchain. The transaction fees for a transaction can thus be calculated deterministically off-chain.</p>
<p>The transaction fees of account-based blockchains depend on network load, and can vary a lot.</p>
</li>
<li>
<h4 id="transaction-fees-not-charged-upon-failure"><a class="header" href="#transaction-fees-not-charged-upon-failure">Transaction fees not charged upon failure</a></h4>
<p>The determinism of the eUTxO model means that transaction success can be determined before posting. Transaction failure is still possible due to contention, but this is a very cheap check, and no fee is charged.</p>
<p>Transaction failure on account-based blockchains results in losing the fee, as significant processing power might've been used before encountering the failure condition.</p>
</li>
<li>
<h4 id="easier-to-audit"><a class="header" href="#easier-to-audit">Easier to audit</a></h4>
<p>Auditing of eUTxO smart contracts is much easier because only the validation function needs to be audited, which has a very <strong>locally-scoped</strong> nature.</p>
</li>
<li>
<h4 id="concurrency"><a class="header" href="#concurrency">Concurrency</a></h4>
<p>Due to monetary value being naturally spread over many UTxOs, a UTxO blockchain can be compared to an extremely sharded account-based blockchain (some smart contracts might require a centralized data-point though, and won't allow concurrent interactions, see <a href="#contention">contention</a>).</p>
</li>
<li>
<h4 id="better-for-layer-2"><a class="header" href="#better-for-layer-2">Better for layer 2</a></h4>
<p>The local nature of UTxOs allows reusing validation logic in layer 2 scaling solutions
such as state channels (see <a href="https://iohk.io/en/blog/posts/2021/09/17/hydra-cardano-s-solution-for-ultimate-scalability/">hydra</a>). </p>
</li>
<li>
<h4 id="simpler"><a class="header" href="#simpler">Simpler</a></h4>
<p>Though not immediately obvious, eUTxO smart contracts are often much simpler than an equivalent Solidity smart contract (this will become apparant when you start to use Helios).</p>
</li>
</ul>
<h3 id="cons"><a class="header" href="#cons">Cons</a></h3>
<ul>
<li>
<h4 id="contention"><a class="header" href="#contention">Contention</a></h4>
<p>If eUTxO contracts aren't designed properly they can encounter <em>contention</em> problems. Contention occurs when two or more transactions try to spend the same UTxO. If this happens only one of the transactions will succeed, and the others will fail (resulting in an unpleasant user experience).</p>
<p>This is usually not an issue on Ethereum because the EVM handles ordering smart contract calls.</p>
<blockquote>
<p><strong>Note</strong>: there are ways to avoid contention, by for example taking advantage of the parallel nature of UTxOs (see SundaeSwap's <a href="https://sundaeswap.finance/posts/sundaeswap-scalability">scooper model</a>)</p>
</blockquote>
</li>
</ul>
<h2 id="further-reading"><a class="header" href="#further-reading">Further reading</a></h2>
<p>If you feel like you still don't fully understand the eUTxO model, we recommend you keep reading:</p>
<ul>
<li><a href="https://dav009.medium.com/learning-ergo-101-blockchain-paradigm-eutxo-c90b0274cf5e">Learning Ergo 101 : eUTXO explained for human beings</a>, a great blog post by <a href="https://github.com/dav009">David Pryzbilla</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="intro.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="lang/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="intro.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="lang/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script>
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>
        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="src/custom.js"></script>
    </body>
</html>
